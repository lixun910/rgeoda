RGEODALIB = ./libgeoda_src

PKG_CPPFLAGS=\
	-I$(RGEODALIB) \
	-D__USE_PTHREAD__ \
	-D__RGEODA__ \
	-pthread


PKG_LIBS=\
	-pthread

CXX_STD=CXX11

CPP_SRC_FILES = \
	$(RGEODALIB)/libgeoda.cpp \
	$(RGEODALIB)/pg/geoms.c \
	$(RGEODALIB)/shapelib/dbfopen.c \
	$(RGEODALIB)/shapelib/safileio.c \
	$(RGEODALIB)/shapelib/shpopen.c \
	$(RGEODALIB)/weights/PointsToContigWeights.cpp \
	rcpp_rgeoda.cpp \
	rcpp_weights.cpp \
	RcppExports.cpp

#C_SRC_FILES = \
#	$(wildcard $(RGEODALIB)/pg/*.c) \
#	$(wildcard $(RGEODALIB)/shapelib/*.c)


OBJECTS = \
	$(RGEODALIB)/libgeoda.o \
	$(RGEODALIB)/pg/geoms.o \
	$(RGEODALIB)/pg/utils.o \
	$(RGEODALIB)/shapelib/dbfopen.o \
	$(RGEODALIB)/shapelib/safileio.o \
	$(RGEODALIB)/shapelib/shpopen.o \
	$(RGEODALIB)/weights/PointsToContigWeights.o \
	rcpp_rgeoda.o \
	rcpp_weights.o \
	RcppExports.o

.PHONY: all clean

all: clean $(SHLIB)

clean:
	rm -f $(SHLIB) $(OBJECTS)
