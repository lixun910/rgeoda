RGEODALIB = ./libgeoda_src

PKG_CPPFLAGS=\
	-I$(RGEODALIB) \
	-D__USE_PTHREAD__ \
	-D__RGEODA__ \
	-pthread


PKG_LIBS=\
	-pthread

CXX_STD=CXX11

CPP_SRC_FILES = \
	$(RGEODALIB)/libgeoda.cpp \
	$(RGEODALIB)/gda_data.cpp \
	$(RGEODALIB)/gda_weights.cpp \
	$(RGEODALIB)/GenGeomAlgs.cpp \
	$(RGEODALIB)/GenUtils.cpp \
	$(RGEODALIB)/SpatialIndAlgs.cpp \
	$(RGEODALIB)/pg/geoms.c \
	$(RGEODALIB)/shapelib/dbfopen.c \
	$(RGEODALIB)/shapelib/safileio.c \
	$(RGEODALIB)/shapelib/shpopen.c \
	$(RGEODALIB)/weights/PointsToContigWeights.cpp \
	$(RGEODALIB)/weights/PolysToContigWeights.cpp \
	$(RGEODALIB)/weights/GalWeight.cpp \
	$(RGEODALIB)/weights/GwtWeight.cpp \
	$(RGEODALIB)/weights/GeodaWeight.cpp \
	$(RGEODALIB)/weights/VoronoiUtils.cpp \
	rcpp_rgeoda.cpp \
	rcpp_weights.cpp \
	rcpp_utils.cpp \
	RcppExports.cpp

#C_SRC_FILES = \
#	$(wildcard $(RGEODALIB)/pg/*.c) \
#	$(wildcard $(RGEODALIB)/shapelib/*.c)


OBJECTS = \
	$(RGEODALIB)/libgeoda.o \
	$(RGEODALIB)/gda_data.o \
	$(RGEODALIB)/gda_weights.o \
	$(RGEODALIB)/GenGeomAlgs.o \
	$(RGEODALIB)/GenUtils.o \
	$(RGEODALIB)/SpatialIndAlgs.o \
	$(RGEODALIB)/pg/geoms.o \
	$(RGEODALIB)/pg/utils.o \
	$(RGEODALIB)/shapelib/dbfopen.o \
	$(RGEODALIB)/shapelib/safileio.o \
	$(RGEODALIB)/shapelib/shpopen.o \
	$(RGEODALIB)/weights/PointsToContigWeights.o \
	$(RGEODALIB)/weights/PolysToContigWeights.o \
	$(RGEODALIB)/weights/GalWeight.o \
	$(RGEODALIB)/weights/GwtWeight.o \
	$(RGEODALIB)/weights/GeodaWeight.o \
	$(RGEODALIB)/weights/VoronoiUtils.o \
	rcpp_rgeoda.o \
	rcpp_weights.o \
	rcpp_utils.o \
	RcppExports.o

.PHONY: all clean

all: clean $(SHLIB)

clean:
	rm -f $(SHLIB) $(OBJECTS)
